<div class="row col-12 justify-content-around">
  <div class="col-7 mt-1 text-center border border-warning border-3 rounded-5">
    <h4 class="text-center mt-2 fw-bolder">Student Table</h4>
    @if (showTable) {
          <app-alert [alertType]="alertTable" [alertMessage]="tableMessage"></app-alert>
    }
    <table class="table table-bordered mt-2 border-dark">
      <thead>
        <tr class="table-primary">
          <th>ID</th>
          <th>Name</th>
          <th>Age</th>
          <th>Email</th>
          <th>Message</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        @for (item of StdList; track $index) {
        <tr>
          <td>{{ $index + 1 }}</td>
          <td>{{ item.name }}</td>
          <td>{{ item.age }}</td>
          <td>{{ item.email }}</td>
          <td>{{ item.message }}</td>
          <td>
            <button class="btn btn-primary" (click)="getStd(item._id)">Edit</button>
          </td>
          <td>
            <button class="btn btn-danger" (click)="stdDelete(item._id,item.name)">Delete</button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  

  <!-- post API -->
  <!-- this form is connected to reactive form -->
  <div class="col-4 border border-info border-3 m-1 rounded-5">
    <h4 class="text-center fw-bolder mt-2">
      {{id ? 'Update Student':'Add New Student'}}
    </h4>
    @if (showForm) {
          <app-alert [alertType]="alertForm" [alertMessage]="formMessage"></app-alert>
    }
    <form [formGroup]="studentForm" >
        <div>
            <input hidden class="form-control" formControlName="_id">
        <div class="mt-2 m-2">
            <label for="">Name</label>
            <input type="text" class="form-control border-success"
            formControlName="name" required>
        </div>
        <div class="mt-4 m-2">
            <label for="">Age</label>
            <input type="number" class="form-control border-success"
            formControlName="age" min="5" max="60" required>
        </div>
        <div class="mt-4 m-2">
            <label for="">Email</label>
            <input type="email" class="form-control border-success"
            formControlName="email" required>
        </div>
        <div class="mt-4 m-2">
            <label for="">Message</label>
            <textarea type="text-box" class="form-control border-success" formControlName="message"></textarea>
        </div>
        <div class="container text-center">
          <button class="btn btn-success my-2 align-self-center w-100 rounded-5" (click)="addStd()">
           {{id ? 'Update Data' : 'Add new data'}}
        </button>
        @if(id){
          <button class="btn btn-info my-2 align-self-center w-100 rounded-5" (click)="clearData()">
          Clear Data
       </button>
        }
        </div>
        
    </div>
    </form>
    
  </div>
</div>
